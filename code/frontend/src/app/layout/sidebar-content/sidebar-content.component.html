<!-- Logo Container -->
<div class="logo-container">
  <div class="logo logo-large logo-glow">
    <img src="icons/128.png" width="40" height="40" alt="Logo">
  </div>
  <div class="logo logo-small logo-glow">
    <img src="icons/128.png" width="40" height="40" alt="Logo">
  </div>
  <h2>Cleanuparr</h2>
</div>

<!-- Sidebar Navigation -->
<nav class="nav-menu">
  <!-- Project Sponsors Link (always visible) -->
  <a href="https://cleanuparr.github.io/Cleanuparr/support" class="nav-item sponsor-link" target="_blank" rel="noopener noreferrer">
    <div class="nav-icon-wrapper heart-icon">
      <i class="pi pi-heart"></i>
    </div>
    <span>Become A Sponsor</span>
  </a>
  
  <!-- Go Back button (shown when not at root level) -->
  <div class="nav-item go-back-button" *ngIf="canGoBack" (click)="goBack()">
    <div class="nav-icon-wrapper">
      <i class="pi pi-arrow-left"></i>
    </div>
    <span>Go Back</span>
  </div>

  <!-- Breadcrumb (optional, for better UX) -->
  <div class="breadcrumb" *ngIf="navigationBreadcrumb.length > 0">
    <span *ngFor="let crumb of navigationBreadcrumb; let last = last">
      {{ crumb.label }}
      <i class="pi pi-chevron-right" *ngIf="!last"></i>
    </span>
  </div>

  <!-- Current level navigation items -->
  <ng-container *ngFor="let item of currentNavigation">
    <!-- Items with children (drill-down) -->
    <div 
      class="nav-item nav-parent" 
      *ngIf="item.children && item.children.length > 0"
      (click)="navigateToLevel(item)">
      <div class="nav-icon-wrapper">
        <i [class]="item.icon"></i>
      </div>
      <span>{{ item.label }}</span>
      <div class="nav-chevron">
        <i class="pi pi-chevron-right"></i>
      </div>
    </div>

    <!-- Direct navigation items -->
    <a 
      [routerLink]="item.route" 
      class="nav-item" 
      *ngIf="!item.children && item.route"
      [class.active]="router.url.includes(item.route)" 
      (click)="onNavItemClick()">
      <div class="nav-icon-wrapper">
        <i [class]="item.icon"></i>
      </div>
      <span>{{ item.label }}</span>
      <span class="nav-badge" *ngIf="item.badge">{{ item.badge }}</span>
    </a>

    <!-- External links -->
    <a 
      [href]="item.href" 
      class="nav-item" 
      *ngIf="!item.children && item.isExternal"
      target="_blank" 
      rel="noopener noreferrer">
      <div class="nav-icon-wrapper">
        <i [class]="item.icon"></i>
      </div>
      <span>{{ item.label }}</span>
    </a>
  </ng-container>
</nav>
