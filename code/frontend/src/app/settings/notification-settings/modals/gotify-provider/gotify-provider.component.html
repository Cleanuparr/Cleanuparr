<app-notification-provider-base
  [visible]="visible"
  modalTitle="Configure Gotify Provider"
  [saving]="saving"
  [testing]="testing"
  [editingProvider]="editingProvider"
  (save)="onSave($event)"
  (cancel)="onCancel()"
  (test)="onTest($event)">

  <!-- Provider-specific configuration goes here -->
  <div slot="provider-config">
    <!-- Server URL Field -->
    <div class="field">
      <label for="server-url">
        <i class="pi pi-question-circle field-info-icon"
           title="Click for documentation"
           (click)="openFieldDocs('gotify.serverUrl')"></i>
        Server URL *
      </label>
      <input
        id="server-url"
        type="text"
        pInputText
        [formControl]="serverUrlControl"
        placeholder="https://gotify.example.com"
        class="w-full" />
      <small *ngIf="hasFieldError(serverUrlControl, 'required')" class="form-error-text">Server URL is required</small>
      <small *ngIf="hasFieldError(serverUrlControl, 'pattern')" class="form-error-text">Must be a valid HTTP or HTTPS URL</small>
      <small class="form-helper-text">The URL of your Gotify server instance.</small>
    </div>

    <!-- Application Token Field -->
    <div class="field">
      <label for="application-token">
        <i class="pi pi-question-circle field-info-icon"
           title="Click for documentation"
           (click)="openFieldDocs('gotify.applicationToken')"></i>
        Application Token *
      </label>
      <input
        id="application-token"
        type="password"
        pInputText
        [formControl]="applicationTokenControl"
        placeholder="Your Gotify application token"
        class="w-full" />
      <small *ngIf="hasFieldError(applicationTokenControl, 'required')" class="form-error-text">Application token is required</small>
      <small class="form-helper-text">Create an application in your Gotify server and use its token here.</small>
    </div>

    <!-- Priority Field -->
    <div class="field">
      <label for="priority">
        <i class="pi pi-question-circle field-info-icon"
           title="Click for documentation"
           (click)="openFieldDocs('gotify.priority')"></i>
        Priority
      </label>
      <p-inputNumber
        id="priority"
        [formControl]="priorityControl"
        [min]="0"
        [max]="10"
        [showButtons]="true"
        styleClass="w-full">
      </p-inputNumber>
      <small *ngIf="hasFieldError(priorityControl, 'min') || hasFieldError(priorityControl, 'max')" class="form-error-text">Priority must be between 0 and 10</small>
      <small class="form-helper-text">Message priority (0-10). Higher values may trigger different notification behaviors on clients.</small>
    </div>
  </div>
</app-notification-provider-base>
